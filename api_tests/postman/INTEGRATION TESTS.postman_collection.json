{
	"info": {
		"_postman_id": "e42c2e50-5ce2-4fad-b88b-bf0a5e4421db",
		"name": "INTEGRATION TESTS",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "23071143"
	},
	"item": [
		{
			"name": "[TEST1_PERMISSION_CLIENT_MANAGEMENT]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales2\",\r\n    \"password\": \"user_sales2!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest2@test.fr\",\r\n    \"company_name\": \"Client2\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"sales_contact\": {{sales1_id}},\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut récupérer la liste des clients",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[0].email).to.eql(\"clientest2@test.fr\");\r",
									"    pm.expect(jsonData[1].email).to.eql(\"clientest1@test.fr\");\r",
									"    pm.expect(jsonData.length).to.eql(2);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut récupérer les infos du client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut récupérer les infos du client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut mettre à jour le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest_1@test.fr\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut mettre à jour le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest_2@test.fr\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut supprimer le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST2_PERMISSION_CLIENT_SALES]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales2\",\r\n    \"password\": \"user_sales2!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest2@test.fr\",\r\n    \"company_name\": \"Client2\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut récupérer la liste ses clients",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[0].email).to.eql(\"clientest1@test.fr\");\r",
									"    pm.expect(jsonData.length).to.eql(1);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut récupérer les infos d'un client attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut  pas récupérer les infos d'un client non attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut mettre à jour un client attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest_1@test.fr\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut mettre à jour un client non attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest_2@test.fr\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut  pas supprimer un client",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 405\", function () {\r",
									"    pm.response.to.have.status(405);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST3_PERMISSION_CLIENT_SUPPORTS]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"status\": \"True\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion de SALES2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales2\",\r\n    \"password\": \"user_sales2!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest2@test.fr\",\r\n    \"company_name\": \"Client2\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"status\": \"True\",\r\n    \"client\" : {{client2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT3\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client3_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest3@test.fr\",\r\n    \"company_name\": \"Client3\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT3\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract3_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"status\": \"True\",\r\n    \"client\" : {{client3_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Récupérer la liste des évenements",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"postman.setEnvironmentVariable(\"event2_id\",jsonData[1].id)\r",
									"postman.setEnvironmentVariable(\"event3_id\",jsonData[2].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Mettre à jour l'event1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"support_contact\": {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Mettre à jour l'event2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party 2\",\r\n    \"support_contact\": {{support2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Mettre à jour l'event3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party 3\",\r\n    \"support_contact\": {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event3_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event3_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion de SUPPORT1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_support1\",\r\n    \"password\": \"user_support1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas créer un client",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support peut récupérer la liste des clients  relatives aux évenements attribués",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[0].email).to.eql(\"clientest1@test.fr\");\r",
									"    pm.expect(jsonData[1].email).to.eql(\"clientest3@test.fr\");\r",
									"    pm.expect(jsonData.length).to.eql(2);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support peut récupérer les infos du client relatives aux évenements attribués",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas récupérer les infos du client relatives aux évenements non attribués",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas mettre à jour le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest_1@test.fr\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 405\", function () {\r",
									"    pm.response.to.have.status(405);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client3_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client3_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST4_PERMISSION_CONTRACT_MANAGEMENT]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut créer un contrat \"CONTRACT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}},\r\n    \"sales_contact\": {{sales2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut récupérer la liste des contrats",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[0].sales_contact).to.eql(parseInt(pm.environment.get(\"sales1_id\")));\r",
									"    pm.expect(jsonData[0].client).to.eql(parseInt(pm.environment.get(\"client1_id\")));\r",
									"    pm.expect(jsonData[1].sales_contact).to.eql(parseInt(pm.environment.get(\"sales2_id\")));\r",
									"    pm.expect(jsonData[1].client).to.eql(parseInt(pm.environment.get(\"client1_id\")));\r",
									"    pm.expect(jsonData.length).to.eql(2);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut récupérer les infos du contrat1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut récupérer les infos du contrat2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut mettre à jour le contrat1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut mettre à jour le contrat2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut supprimer le contrat1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Admin peut supprimer le contrat2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST5_PERMISSION_CONTRACT_SALES]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion de SALES2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales2\",\r\n    \"password\": \"user_sales2!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Créer le client \"CLIENT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest2@test.fr\",\r\n    \"company_name\": \"Client2\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Créer le contrat \"CONTRACT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut récupérer la liste de ses contrats",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[0].sales_contact).to.eql(parseInt(pm.environment.get(\"sales2_id\")));\r",
									"    pm.expect(jsonData[0].client).to.eql(parseInt(pm.environment.get(\"client2_id\")));\r",
									"    pm.expect(jsonData.length).to.eql(1);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut récupérer les infos d'un contrat attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut  pas récupérer les infos d'un contrat non attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial peut mettre à jour un contrat attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut pas mettre à jour un contrat non attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut supprimer un contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST6_PERMISSION_CONTRACT_SUPPORT]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion de SUPPORT1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_support1\",\r\n    \"password\": \"user_support1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas créer un contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}},\r\n    \"sales_contact\": {{sales2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un client ne peut pas récupérer la liste des contrats",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut  pas récupérer les infos d'un contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas mettre à jour un contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut supprimer un contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/contracts/{{contract2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST7_PERMISSION_EVENT_MANAGEMENT]",
			"item": [
				{
					"name": "[INIT] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"sales_contact\": {{sales2_id}},\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer un contrat \"CONTRACT1\" et signer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}},\r\n    \"sales_contact\": {{sales2_id}},\r\n    \"status\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Récupérer l'ID de lévenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Récupérer la liste des évenements",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un admin peut récupérer les infos d'un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un admin peut mettre à jour un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"attendees\": 150,\r\n    \"event_date\": \"2022-10-22\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un admin peut supprimer un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST8_PERMISSION_EVENT_SALES]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer un contrat \"CONTRACT1\" et signer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}},\r\n    \"sales_contact\": {{sales2_id}},\r\n    \"status\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Récupérer l'ID de lévenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut pas récupérer la liste des évenements",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut pas récupérer les infos d'un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut pas mettre à jour un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"attendees\": 150,\r\n    \"event_date\": \"2022-10-22\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un Commercial ne peut pas supprimer un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST9_PERMISSION_EVENT_SUPPORT]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer un contrat \"CONTRACT1\" et signer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}},\r\n    \"status\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest2@test.fr\",\r\n    \"company_name\": \"Client2\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer un contrat \"CONTRACT2\" et signer Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client2_id}},\r\n    \"status\" : true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Récupérer l'ID de lévenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"postman.setEnvironmentVariable(\"event2_id\",jsonData[1].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] L'admin attribut l'évenement1 au support1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"support_contact\" : {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] L'admin attribut l'évenement2 au support2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"support_contact\" : {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion du SUPPORT1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_support1\",\r\n    \"password\": \"user_support1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support peut récupérer la liste de ses évenements",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[0].id).to.eql(parseInt(pm.environment.get(\"event1_id\")));\r",
									"    pm.expect(jsonData.length).to.eql(1);\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support peut récupérer les infos d'un évenement attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas récupérer les infos d'un évenement non attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/events/{{event2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support peut mettre à jour un évenement attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"attendees\": 150,\r\n    \"event_date\": \"2022-10-22\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas mettre à jour un évenement non attribué",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"attendees\": 150,\r\n    \"event_date\": \"2022-10-22\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/events/{{event2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Un support ne peut pas supprimer un évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 405\", function () {\r",
									"    pm.response.to.have.status(405);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/events/{{event2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST11_CREATE_CONTRAINTS_CONTRACTS_EVENTS]",
			"item": [
				{
					"name": "Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Le contrat \"CONTRACT1\" avec SALES1 et CLIENT1 ne peut pas être créer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Sales1 passe le status du client de \"IN_PROGRESS\" à \"SUCCESS\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Le contrat \"CONTRACT1\" avec SALES1 et CLIENT1 peut être créer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "SALES1 peut encore mettre à jour le contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 400,\r\n    \"payment_due\": \"2022-12-03\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "L'évenement n'est pas encore crée",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.length).to.eql(0);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "SALES1 signe le contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "SALES1 ne peut plus mettre à jour le contrat",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 1200\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/{{contract1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								"{{contract1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "L'évenement est crée",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Your test name\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.length).to.eql(1);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Récupérer l'ID de l'évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "L'admin affecte l'évenement au support1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"support_contact\": {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Connexion de SUPPORT1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_support1\",\r\n    \"password\": \"user_support1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Le support met à jour son évenement et le ferme",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Event Nha Trang beach Party\",\r\n    \"attendees\": 150,\r\n    \"event_status\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Le support ne peut plus mettre à jour l'évenement",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 403\", function () {\r",
									"    pm.response.to.have.status(403);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"attendees\": 200\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "[TEST12_FILTERS]",
			"item": [
				{
					"name": "[INIT] Connexion de SALES1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales1\",\r\n    \"password\": \"user_sales1!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest1@test.fr\",\r\n    \"company_name\": \"Client1\",\r\n    \"first_name\": \"Théo\",\r\n    \"last_name\": \"Norbert\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT1\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract1_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 300,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"status\": \"True\",\r\n    \"client\" : {{client1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion de SALES2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user_test_sales2\",\r\n    \"password\": \"user_sales2!!!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest2@test.fr\",\r\n    \"company_name\": \"Client2\",\r\n    \"first_name\": \"Lazare\",\r\n    \"last_name\": \"Christopher\",\r\n    \"status\": \"SUCCESS\"\r\n    \r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT2\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract2_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 600,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"status\": \"True\",\r\n    \"client\" : {{client2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le client \"CLIENT3\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"client3_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"clientest3@test.fr\",\r\n    \"company_name\": \"Client3\",\r\n    \"first_name\": \"Gregory\",\r\n    \"last_name\": \"Julien\",\r\n    \"status\": \"SUCCESS\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Créer le contrat \"CONTRACT3\"",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"contract3_id\",jsonData.id)\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"amount\": 4000,\r\n    \"payment_due\": \"1985-10-03\",\r\n    \"status\": \"True\",\r\n    \"client\" : {{client3_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Connexion en tant que admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"token\",jsonData.access)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/login/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Récupérer la liste des évenements",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody)\r",
									"postman.setEnvironmentVariable(\"event1_id\",jsonData[0].id)\r",
									"postman.setEnvironmentVariable(\"event2_id\",jsonData[1].id)\r",
									"postman.setEnvironmentVariable(\"event3_id\",jsonData[2].id)\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Mettre à jour l'event1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Nha Trang beach Party\",\r\n    \"event_date\": \"2022-12-05\",\r\n    \"support_contact\": {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Mettre à jour l'event2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Mui Ne party\",\r\n    \"event_date\": \"2021-11-07\",\r\n    \"support_contact\": {{support2_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[INIT] Mettre à jour l'event3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"event_name\": \"Con dao party\",\r\n    \"event_date\": \"2023-12-07\",\r\n    \"support_contact\": {{support1_id}}\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{app_url}}/management/events/{{event3_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								"{{event3_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Afficher tous les clients",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{app_url}}/management/clients/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Client: Test filtre nom",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{app_url}}/management/clients/?first_name=Théo&last_name=",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							],
							"query": [
								{
									"key": "first_name",
									"value": "Théo"
								},
								{
									"key": "last_name",
									"value": ""
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Client: Test rechercher",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{app_url}}/management/clients/?search=Théo",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							],
							"query": [
								{
									"key": "first_name",
									"value": "Théo",
									"disabled": true
								},
								{
									"key": "last_name",
									"value": "",
									"disabled": true
								},
								{
									"key": "search",
									"value": "Théo"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Client: Test filtre email",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{app_url}}/management/clients/?email=clientest3@test.fr",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								""
							],
							"query": [
								{
									"key": "email",
									"value": "clientest3@test.fr"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Afficher tous les contrats",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Contrat: Test filtre nom du client",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/?first_name=Gregory&last_name=Julien",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							],
							"query": [
								{
									"key": "first_name",
									"value": "Gregory"
								},
								{
									"key": "last_name",
									"value": "Julien"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contrat: Test rechercher",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/?search=Théo",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							],
							"query": [
								{
									"key": "first_name",
									"value": "Gregory",
									"disabled": true
								},
								{
									"key": "last_name",
									"value": "Julien",
									"disabled": true
								},
								{
									"key": "search",
									"value": "Théo"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contrat: Test filtre email du client",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/?email=clientest2@test.fr",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							],
							"query": [
								{
									"key": "email",
									"value": "clientest2@test.fr"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contrat: Test filtre date du contrat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/?year_contract&min_year_contract=2022&max_year_contract&month_contract&min_month_contract&max_month_contract&day_contract&min_day_contract&max_day_contract",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							],
							"query": [
								{
									"key": "year_contract",
									"value": null
								},
								{
									"key": "min_year_contract",
									"value": "2022"
								},
								{
									"key": "max_year_contract",
									"value": null
								},
								{
									"key": "month_contract",
									"value": null
								},
								{
									"key": "min_month_contract",
									"value": null
								},
								{
									"key": "max_month_contract",
									"value": null
								},
								{
									"key": "day_contract",
									"value": null
								},
								{
									"key": "min_day_contract",
									"value": null
								},
								{
									"key": "max_day_contract",
									"value": null
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contrat: Test filtre montant du contrat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/contracts/?min_amount=600&max_amount=4000",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"contracts",
								""
							],
							"query": [
								{
									"key": "min_amount",
									"value": "600"
								},
								{
									"key": "max_amount",
									"value": "4000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Afficher tous les évenements",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Event: Test filtre nom",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/?first_name=Gregory&last_name=Julien",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							],
							"query": [
								{
									"key": "first_name",
									"value": "Gregory"
								},
								{
									"key": "last_name",
									"value": "Julien"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Event: Test rechercher",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/?search=user_test_support1@gmail.com",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							],
							"query": [
								{
									"key": "first_name",
									"value": "Gregory",
									"disabled": true
								},
								{
									"key": "last_name",
									"value": "Julien",
									"disabled": true
								},
								{
									"key": "search",
									"value": "user_test_support1@gmail.com"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Event: Test filtre email",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/?email=clientest2@test.fr",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							],
							"query": [
								{
									"key": "email",
									"value": "clientest2@test.fr"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Event: Test filtre date de l'évenement",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/events/?year_event&min_year_event=2022&max_year_event&month_event&min_month_event&max_month_event&day_event&min_day_event&max_day_event",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"events",
								""
							],
							"query": [
								{
									"key": "year_event",
									"value": null
								},
								{
									"key": "min_year_event",
									"value": "2022"
								},
								{
									"key": "max_year_event",
									"value": null
								},
								{
									"key": "month_event",
									"value": null
								},
								{
									"key": "min_month_event",
									"value": null
								},
								{
									"key": "max_month_event",
									"value": null
								},
								{
									"key": "day_event",
									"value": null
								},
								{
									"key": "min_day_event",
									"value": null
								},
								{
									"key": "max_day_event",
									"value": null
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client1_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client1_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client2_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client2_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "[END] Supprimer le client3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{app_url}}/management/clients/{{client3_id}}/",
							"host": [
								"{{app_url}}"
							],
							"path": [
								"management",
								"clients",
								"{{client3_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	]
}